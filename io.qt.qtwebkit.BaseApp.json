{
  "id": "io.qt.qtwebkit.BaseApp",
  "runtime": "org.kde.Platform",
  "sdk": "org.kde.Sdk",
  "runtime-version": "6.3",
  "separate-locales": false,
  "modules": [
    {
      "name": "qtwebkit",
      "buildsystem": "cmake-ninja",
      "builddir": true,
      "config-opts": [
        "-DCMAKE_BUILD_TYPE=Release",
        "-DCMAKE_INSTALL_LIBDIR=lib",
        "-DPORT=Qt"
      ],
      "post-install": [
        "mv /app/mkspecs /app/lib",
        "install -Dm644 ../io.qt.qtwebkit.BaseApp.metainfo.xml -t /app/share/metainfo",
        "install ../cleanup-BaseApp.sh -t /app"
      ],
      "sources": [
        {
          "type": "file",
          "path": "io.qt.qtwebkit.BaseApp.metainfo.xml"
        },
        {
          "type": "script",
          "dest-filename": "cleanup-BaseApp.sh",
          "//": "https://github.com/flatpak/flatpak-builder/issues/233",
          "commands": [
            "rm -rfv /app/include",
            "rm -rfv /app/lib/cmake",
            "rm -rfv /app/lib/mkspecs",
            "rm -rfv /app/lib/pkgconfig",
            "rm -rfv /app/share/{metainfo,appdata}/io.qt.qtwebkit.BaseApp.*.xml",
            "rm -rfv $(readlink -f \"$0\")"
          ]
        },
        {
          "type": "archive",
          "url": "https://github.com/qtwebkit/qtwebkit/releases/download/qtwebkit-5.212.0-alpha4/qtwebkit-5.212.0-alpha4.tar.xz",
          "sha256": "9ca126da9273664dd23a3ccd0c9bebceb7bb534bddd743db31caf6a5a6d4a9e6"
        },
        {
          "type": "patch",
          "path": "qtwebkit-build.patch"
        }
      ]
    }
  ]
}
